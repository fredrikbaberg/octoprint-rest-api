sudo: false
language: python
matrix:
  include:
  - name: Tox
    python: 3.6
    install: pip install -U tox-travis
    script:
    - tox
  - name: Coverage
    install: pip install -r requirements_test.txt
    python: 3.6
    script:
    - make coverage
    after_success:
    - codecov
    - coveralls
deploy:
  provider: pypi
  server: https://testpypi.python.org/pypi
  user: fredrikbaberg
  password:
    secure: TCcqBwnpVt256p/H/SaeJfJtu+14x0U8WH349dBMjvXyj0ihVWy8KtoSEFvwH0muQJQEzUariwbzdykp3MemVX2eGOG4nj8/A1BHxBa6WaLUwn4VaUTyRiiFCKoI3/+Dl/12ls9ld1rJOmBwQY1EPb/JlxYSzqhu/7XOlhAkQbo1zulFCT+eHC/aFZQU2kqw63h4APb03wntwqU3HSKPNJK29K/GtQmoL42CnGNl5x5IXcrCmdene5zjZdctU9rVgvlD/Yq4eDDb3dQ7RlIUz0CkuAx9mBfYKnVz+RYjkjyVtr9r3KtfihJtcMImdrotAfb1fA5onvBXHOf7UXwI0BN2kt8x729viPOocVi3eO94acAOaAfK7LZH1f5nB3MFCQ244y90oe0G1BGv0jmmwLiGlhEa4Cq87K24I8IAE+CJbZauFfj+ayzVmXmYVAVzkp80Dx4JjBWByF3yLWFdBNNSNeqm3qaijJKsqwWxRhePfSZzp6g/GxjwGlDNziWWtOMYY29aUhUUZMcKs74oACAtw9DQsaGBCfRV12SJwPVRbDlTig9UH375rc+vi2zdsBP96yFMXdEYm9ze7a2MGtLg/KK1mPneK8NdIfgKRLKDrBD1AbSQN4e++K7CpsEj9QImvUaUClOiX3DO2U0NhTyK0P8g4TkL7xjZok/SzJs=
  on:
    tags: true
